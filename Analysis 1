{
 "cells": [
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "SOCIAL MEDIA - ANALYSIS PROJECT"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 1,
   "metadata": {},
   "outputs": [],
   "source": [
    "import pandas as pd\n",
    "import numpy as numpy\n",
    "import scipy.stats as s\n",
    "\n",
    "# Import Dataset using Pandas\n",
    "dataset = pd.read_csv('test.csv')"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "CHI-SQUARE TEST - \n",
    "FINDING ASSOCIATION BETWEEN TWO VARIABLE - DOMINANT EMOTION AND GENDER (Independent Variable)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 2,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Probability or P-Value -  0.05880460109009948\n",
      "WE HAVE FAILED TO REJECT THE NULL HYPOTHESIS, THERE IS A SIGNIFICANT ASSOCIATION BETWEEN GENDER AND DOMIANT EMOTION\n"
     ]
    }
   ],
   "source": [
    "from scipy.stats import chi2_contingency\n",
    "\n",
    "# Creating a contingency table\n",
    "contingency_table = pd.crosstab(dataset['Dominant_Emotion'], dataset['Gender'])\n",
    "\n",
    "# Converting the contingency table to a numpy table\n",
    "data = contingency_table.values\n",
    "\n",
    "# Performing Chi-square test\n",
    "chi2, p, dof, expected = chi2_contingency(data)   \n",
    "print('Probability or P-Value - ', p)\n",
    "\n",
    "if p > 0.05: \n",
    "    print('WE HAVE FAILED TO REJECT THE NULL HYPOTHESIS, THERE IS A SIGNIFICANT ASSOCIATION BETWEEN GENDER AND DOMIANT EMOTION')\n",
    "else:\n",
    "    print('WE FAIL TO REJECT THE NULL HYPOTHESIS, ACCEPTING THE ALTERNATE HYPOTHESIS. THERE IS NO SIGNIFICANT ASSOCIATION BETWEEN TWO VARIABLES')"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "CHI-SQUARE TEST PRACTICE MODE - Gender and Platoform Usage"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 3,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "THE VARIABLES ARE NOT INDEPENDENT MEANING THEY HAVE RELATION BETWEEN THEM\n",
      "We Reject the null hypothesis 1.7385151743640575e-05\n",
      "There is not significance associations between two variables\n"
     ]
    }
   ],
   "source": [
    "# Creating the Contingency table\n",
    "contingency_table1 = pd.crosstab(dataset['Gender'], dataset['Platform'])\n",
    "\n",
    "# Converting the Contingency table into array of numpy\n",
    "array_table = contingency_table1.values\n",
    "\n",
    "# Performing Chi-Square Test\n",
    "chi2, p, dof, expected = chi2_contingency(array_table)\n",
    "\n",
    "if p > 0.05:\n",
    "    print('THE VARIABLES ARE INDEPENDENT')\n",
    "    print('We fail to reject the null hypothesis', p)\n",
    "    print('There is significance difference betweeen two variable')\n",
    "else:\n",
    "    print('THE VARIABLES ARE NOT INDEPENDENT MEANING THEY HAVE RELATION BETWEEN THEM')\n",
    "    print('We Reject the null hypothesis', p)\n",
    "    print('There is not significance associations between two variables')"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "SECOND TEST FOR CHI-SQUARE - Age Group and Platform"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 4,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "There is a statistically significant association between two variables, meaning these varibales are dependent. Therefore, we rejected the null hypothesis\n"
     ]
    }
   ],
   "source": [
    "#CONVERTING A CONTINOUS VARIABLE INTO A CATEGORICAL VARIABLE\n",
    "bn = [\"21\", '25', \"30\", \"35\"]\n",
    "labels = ['Young', 'Young_Adult', 'Adult']\n",
    "\n",
    "# Created the categorical variables\n",
    "dataset['Age_Group'] = pd.cut(dataset['Age'], bins= bn, labels = labels)\n",
    "\n",
    "# Now contingency table\n",
    "contingency_table2 = pd.crosstab(dataset['Platform'], dataset['Age_Group'])\n",
    "\n",
    "# Converting the contingency table to the array based table\n",
    "array_table1 = contingency_table2.values\n",
    "\n",
    "# CHI-SQUARE TEST  \n",
    "chi2, p_value, dof, expected = chi2_contingency(array_table1)\n",
    "\n",
    "# Condition\n",
    "if p_value > 0.05:\n",
    "    print('These two variables are independent thus we failed to reject the null hypothesis')\n",
    "else:\n",
    "    print('There is a statistically significant association between two variables, meaning these varibales are dependent. Therefore, we rejected the null hypothesis')"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "CHI-SQUARE TEST - Daily Usage And Gender"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 5,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "We Rejected to null hyposthesis. Dependent Variable\n"
     ]
    }
   ],
   "source": [
    "# Converting the column from continous to categorical\n",
    "bins = ['40', '70', '135', '200']\n",
    "lables = ['Low_Usage', 'Medium_Usage', 'High_Usage']\n",
    "\n",
    "# This has been sorted\n",
    "dataset['Daily_Usage_Time (minutes)'] = sorted(dataset['Daily_Usage_Time (minutes)'])\n",
    "\n",
    "# Contingency Table\n",
    "contingency_table3 = pd.crosstab(dataset['Daily_Usage_Time (minutes)'], dataset['Gender'])\n",
    "\n",
    "# Coneverting The Table\n",
    "array_table2 = contingency_table3.values\n",
    "\n",
    "# Chi-Square Test\n",
    "chi2, p_value, dof, excepted = chi2_contingency(array_table2)\n",
    "\n",
    "if p_value >= 0.05:\n",
    "    print('We Failed to reject the Null hyposthesis. Independent Variable')\n",
    "else:\n",
    "    print('We Rejected to null hyposthesis. Dependent Variable')"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "CHI-SQUARE TEST - Posts Per Day and Platform"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 20,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "We Fail To Reject The Null Hypothesis. Two Variables Are Independent\n"
     ]
    }
   ],
   "source": [
    "# Maintaining the order of the data\n",
    "dataset['Posts_Per_Day'] = sorted(dataset['Posts_Per_Day'])\n",
    "\n",
    "# Converting the continous to categorical variable\n",
    "bins = [0, 3, 6, 8]\n",
    "labels = ['1-3', '4-6', '6+']\n",
    "\n",
    "dataset['Daily_Posts'] = pd.cut(dataset['Posts_Per_Day'], bins=bins , labels=labels)\n",
    "\n",
    "# Contingency Table\n",
    "contingency_table3 = pd.crosstab(dataset['Daily_Posts'], dataset['Platform'])\n",
    "\n",
    "# Contigency to Array\n",
    "array_table3 = contingency_table3.values\n",
    "\n",
    "# Chi-Square Test\n",
    "chi2, p_value, dof, expected = chi2_contingency(array_table3)\n",
    "\n",
    "if p_value > 0.05:\n",
    "    print('We Fail To Reject The Null Hypothesis. Two Variables Are Independent')\n",
    "else:\n",
    "    print('We Reject The Null Hypothesis. Two Variables are dependent')"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "CHI-SQUARE TEST - Gender and Engagement Level"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 41,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "0.9508867810484187\n",
      "We Failed To Reject the Null Hypothesis, Independent\n",
      "0.8374937431591428\n",
      "We Failed To Reject the Null Hypothesis, Independent\n"
     ]
    }
   ],
   "source": [
    "# Intializing A New Database for Engagement Level\n",
    "Engagement_level = pd.read_csv('Purchaing_Power_Customers.csv')\n",
    "\n",
    "\n",
    "# Ordering the Comment column\n",
    "Engagement_level['PerDay_Comments'] = sorted(Engagement_level['PerDay_Comments'])\n",
    "Engagement_level['PerDay_Likes'] = sorted(Engagement_level['PerDay_Likes'])\n",
    "\n",
    "\n",
    "\"\"\" Converting two new groups\"\"\"\n",
    "# Bins\n",
    "comments_bins = [2, 20, 30, 40]\n",
    "comments_labels = ['2-20', '21-30', '31-40']\n",
    "\n",
    "# Labels\n",
    "likes_bins = [5, 45, 72, 120]\n",
    "likes_labels = ['5-45', '46-72', '72-120']\n",
    "\n",
    "# Adding this to change the continous variable into Categorical Variable\n",
    "Engagement_level['Daily_comments'] = pd.cut(Engagement_level['PerDay_Comments'], bins=comments_bins, labels=comments_labels)\n",
    "Engagement_level['Daily_likes'] = pd.cut(Engagement_level['PerDay_Likes'], bins=likes_bins, labels=likes_labels)\n",
    "\n",
    "# Contingency Table\n",
    "contingency_table4 = pd.crosstab(dataset['Gender'], Engagement_level['Daily_comments'])\n",
    "contingency_table5 = pd.crosstab(dataset['Gender'], Engagement_level['Daily_likes'])\n",
    "\n",
    "# Chi-Square Test - For Gender to Daily Comments\n",
    "chi2, p_value, dof, expected = chi2_contingency(contingency_table4)\n",
    "\n",
    "print(p_value)\n",
    "\n",
    "if p_value > 0.05:\n",
    "    print('We Failed To Reject the Null Hypothesis, Independent Variables')\n",
    "else:\n",
    "    print('We Rejected the null hypothesis, Dependent')\n",
    "\n",
    "\n",
    "# Chi-Square - For Gender to Daily Likes\n",
    "chi2, p_value, dof, expected = chi2_contingency(contingency_table5)\n",
    "\n",
    "print(p_value)\n",
    "\n",
    "if p_value > 0.05:\n",
    "    print('We Failed To Reject the Null Hypothesis, Independent Variables')\n",
    "else:\n",
    "    print('We Rejected the null hypothesis, Dependent')"
   ]
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python 3",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.12.2"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 2
}
